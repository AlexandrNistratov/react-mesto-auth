{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/aleksandrnistratov/Desktop/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import PopupWithForm from'./PopupWithForm';import React from'react';import{CurrentUserContext}from'../contexts/CurrentUserContext';function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];function handleChangeName(e){setName(e.target.value);}function handleChangeDescription(e){setDescription(e.target.value);}var currentUser=React.useContext(CurrentUserContext);React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);function handleSubmit(e){e.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nonUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"info\",container:\"min\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",submit:\"min\",textSubmitButton:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_firstname\",id:\"user-name\",required:true,minLength:\"2\",maxLength:\"40\",type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",name:\"firstname\",value:name||'',onChange:handleChangeName}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",id:\"user-name-error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_career\",id:\"user-career\",required:true,minLength:\"2\",maxLength:\"200\",type:\"text\",placeholder:\"\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430\",name:\"career\",value:description||'',onChange:handleChangeDescription}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",id:\"user-career-error\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/aleksandrnistratov/Desktop/mesto-react/src/components/EditProfilePopup.js"],"names":["PopupWithForm","React","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","useState","name","setName","description","setDescription","handleChangeName","e","target","value","handleChangeDescription","currentUser","useContext","useEffect","about","handleSubmit","preventDefault"],"mappings":"4PAAA,MAAOA,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CAEA,QAASC,CAAAA,gBAAT,MAA4D,IAAjCC,CAAAA,MAAiC,MAAjCA,MAAiC,CAAzBC,OAAyB,MAAzBA,OAAyB,CAAhBC,YAAgB,MAAhBA,YAAgB,qBAChCL,KAAK,CAACM,QAAN,CAAe,EAAf,CADgC,oDACjDC,IADiD,qBAC3CC,OAD2C,0CAElBR,KAAK,CAACM,QAAN,CAAe,EAAf,CAFkB,qDAEjDG,WAFiD,qBAEpCC,cAFoC,qBAIxD,QAASC,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CACzBJ,OAAO,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,CAED,QAASC,CAAAA,uBAAT,CAAiCH,CAAjC,CAAoC,CAChCF,cAAc,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACH,CAED,GAAME,CAAAA,WAAW,CAAGhB,KAAK,CAACiB,UAAN,CAAiBhB,kBAAjB,CAApB,CACAD,KAAK,CAACkB,SAAN,CAAgB,UAAM,CAClBV,OAAO,CAACQ,WAAW,CAACT,IAAb,CAAP,CACAG,cAAc,CAACM,WAAW,CAACG,KAAb,CAAd,CACH,CAHD,CAGG,CAACH,WAAD,CAHH,EAKA,QAASI,CAAAA,YAAT,CAAsBR,CAAtB,CAAyB,CACrBA,CAAC,CAACS,cAAF,GAEA;AACAhB,YAAY,CAAC,CACTE,IAAI,CAAEA,IADG,CAETY,KAAK,CAAEV,WAFE,CAAD,CAAZ,CAIH,CAED,mBACI,MAAC,aAAD,EACI,IAAI,CAAC,MADT,CAEI,SAAS,CAAC,KAFd,CAGI,KAAK,CAAC,2HAHV,CAII,MAAM,CAAC,KAJX,CAKI,gBAAgB,CAAC,wDALrB,CAMI,MAAM,CAAEN,MANZ,CAOI,OAAO,CAAEC,OAPb,CAQI,QAAQ,CAAEgB,YARd,wBAUI,cAAO,SAAS,CAAC,0CAAjB,CAA4D,EAAE,CAAC,WAA/D,CAA2E,QAAQ,KAAnF,CAAoF,SAAS,CAAC,GAA9F,CACO,SAAS,CAAC,IADjB,CAEO,IAAI,CAAC,MAFZ,CAEmB,WAAW,CAAC,oBAF/B,CAEqC,IAAI,CAAC,WAF1C,CAEsD,KAAK,CAAEb,IAAI,EAAI,EAFrE,CAEyE,QAAQ,CAAEI,gBAFnF,EAVJ,cAaI,aAAM,SAAS,CAAC,OAAhB,CAAwB,EAAE,CAAC,iBAA3B,EAbJ,cAcI,cAAO,SAAS,CAAC,uCAAjB,CAAyD,EAAE,CAAC,aAA5D,CAA0E,QAAQ,KAAlF,CAAmF,SAAS,CAAC,GAA7F,CACO,SAAS,CAAC,KADjB,CAEO,IAAI,CAAC,MAFZ,CAEmB,WAAW,CAAC,sCAF/B,CAEwC,IAAI,CAAC,QAF7C,CAEsD,KAAK,CAAEF,WAAW,EAAI,EAF5E,CAEgF,QAAQ,CAAEM,uBAF1F,EAdJ,cAiBI,aAAM,SAAS,CAAC,OAAhB,CAAwB,EAAE,CAAC,mBAA3B,EAjBJ,GADJ,CAqBH,CAED,cAAeb,CAAAA,gBAAf","sourcesContent":["import PopupWithForm from './PopupWithForm';\nimport React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser }) {\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value)\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value)\n    }\n\n    const currentUser = React.useContext(CurrentUserContext);\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        // Передаём значения управляемых компонентов во внешний обработчик\n        onUpdateUser({\n            name: name,\n            about: description,\n        });\n    }\n\n    return(\n        <PopupWithForm\n            name=\"info\"\n            container=\"min\"\n            title=\"Редактировать профиль\"\n            submit=\"min\"\n            textSubmitButton=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input className=\"popup__input popup__input_type_firstname\" id=\"user-name\" required minLength=\"2\"\n                   maxLength=\"40\"\n                   type=\"text\" placeholder=\"Имя\" name=\"firstname\" value={name || ''} onChange={handleChangeName} />\n            <span className=\"error\" id=\"user-name-error\"></span>\n            <input className=\"popup__input popup__input_type_career\" id=\"user-career\" required minLength=\"2\"\n                   maxLength=\"200\"\n                   type=\"text\" placeholder=\"Работа\" name=\"career\" value={description || ''} onChange={handleChangeDescription} />\n            <span className=\"error\" id=\"user-career-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}