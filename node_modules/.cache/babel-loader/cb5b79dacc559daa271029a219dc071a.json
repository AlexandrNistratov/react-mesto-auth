{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/aleksandrnistratov/Desktop/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{api}from'../utils/Api';import Card from'./Card';function Main(_ref){var onEditAvatar=_ref.onEditAvatar,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,handleCardClick=_ref.handleCardClick;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){api.getUserApi().then(function(res){setUserName(res.name);setUserDescription(res.about);setUserAvatar(res.avatar);}).catch(function(err){return alert(err);});},[]);React.useEffect(function(){api.getAllCards().then(function(data){setCards(data);}).catch(function(err){return alert(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar-image\",src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__overlay\",onClick:onEditAvatar,children:/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-avatar\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__text\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__block\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__info-name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__info-text\",children:userDescription})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:handleCardClick},card._id);})})]});}export default Main;","map":{"version":3,"sources":["/Users/aleksandrnistratov/Desktop/mesto-react/src/components/Main.js"],"names":["React","api","Card","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardClick","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","useEffect","getUserApi","then","res","name","about","avatar","catch","err","alert","getAllCards","data","map","card","_id"],"mappings":"4PAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,cAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CAEA,QAASC,CAAAA,IAAT,MAA4E,IAA5DC,CAAAA,YAA4D,MAA5DA,YAA4D,CAA9CC,aAA8C,MAA9CA,aAA8C,CAA/BC,UAA+B,MAA/BA,UAA+B,CAAlBC,eAAkB,MAAlBA,eAAkB,qBACxCP,KAAK,CAACQ,QAAN,CAAe,EAAf,CADwC,oDACjEC,QADiE,qBACvDC,WADuD,0CAE1BV,KAAK,CAACQ,QAAN,CAAe,EAAf,CAF0B,qDAEjEG,eAFiE,qBAEhDC,kBAFgD,0CAGpCZ,KAAK,CAACQ,QAAN,CAAe,EAAf,CAHoC,qDAGjEK,UAHiE,qBAGrDC,aAHqD,0CAI9Cd,KAAK,CAACQ,QAAN,CAAe,EAAf,CAJ8C,qDAIjEO,KAJiE,qBAI1DC,QAJ0D,qBAMxEhB,KAAK,CAACiB,SAAN,CAAgB,UAAM,CAClBhB,GAAG,CAACiB,UAAJ,GACKC,IADL,CACU,SAAAC,GAAG,CAAI,CACTV,WAAW,CAACU,GAAG,CAACC,IAAL,CAAX,CACAT,kBAAkB,CAACQ,GAAG,CAACE,KAAL,CAAlB,CACAR,aAAa,CAACM,GAAG,CAACG,MAAL,CAAb,CACH,CALL,EAKOC,KALP,CAKa,SAACC,GAAD,QAASC,CAAAA,KAAK,CAACD,GAAD,CAAd,EALb,EAMH,CAPD,CAOG,EAPH,EASAzB,KAAK,CAACiB,SAAN,CAAgB,UAAM,CAClBhB,GAAG,CAAC0B,WAAJ,GACKR,IADL,CACU,SAAAS,IAAI,CAAI,CACVZ,QAAQ,CAACY,IAAD,CAAR,CACH,CAHL,EAGOJ,KAHP,CAGa,SAACC,GAAD,QAASC,CAAAA,KAAK,CAACD,GAAD,CAAd,EAHb,EAIH,CALD,CAKG,EALH,EAOA,mBACQ,cAAM,SAAS,CAAC,SAAhB,wBACI,iBAAS,SAAS,CAAC,SAAnB,wBACI,aAAK,SAAS,CAAC,eAAf,wBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,YAAK,SAAS,CAAC,uBAAf,CAAuC,GAAG,CAAEZ,UAA5C,CAAwD,GAAG,CAAC,kDAA5D,EADJ,cAEI,YAAK,SAAS,CAAC,kBAAf,CACK,OAAO,CAAET,YADd,uBAEI,eAAQ,SAAS,CAAC,sBAAlB,EAFJ,EAFJ,GADJ,cAQI,aAAK,SAAS,CAAC,eAAf,wBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,WAAI,SAAS,CAAC,oBAAd,UAAoCK,QAApC,EADJ,cAEI,eAAQ,SAAS,CAAC,sBAAlB,CACA,OAAO,CAAEJ,aADT,EAFJ,GADJ,cAOI,UAAG,SAAS,CAAC,oBAAb,UAAmCM,eAAnC,EAPJ,GARJ,GADJ,cAmBI,eAAQ,SAAS,CAAC,qBAAlB,CACA,OAAO,CAAEL,UADT,EAnBJ,GADJ,cAwBI,gBAAS,SAAS,CAAC,UAAnB,UAEQS,KAAK,CAACc,GAAN,CAAU,SAACC,IAAD,qBAAU,KAAC,IAAD,EAAqB,IAAI,CAAEA,IAA3B,CAAiC,WAAW,CAAEvB,eAA9C,EAAWuB,IAAI,CAACC,GAAhB,CAAV,EAAV,CAFR,EAxBJ,GADR,CAiCH,CAED,cAAe5B,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport { api } from '../utils/Api';\nimport Card from './Card';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace,  handleCardClick}) {\n    const [userName, setUserName] = React.useState(\"\");\n    const [userDescription, setUserDescription] = React.useState(\"\");\n    const [userAvatar, setUserAvatar] = React.useState(\"\");\n    const [cards, setCards] = React.useState([]);\n\n    React.useEffect(() => {\n        api.getUserApi()\n            .then(res => {\n                setUserName(res.name)\n                setUserDescription(res.about)\n                setUserAvatar(res.avatar)\n            }).catch((err) => alert(err));\n    }, [])\n\n    React.useEffect(() => {\n        api.getAllCards()\n            .then(data => {\n                setCards(data)\n            }).catch((err) => alert(err));\n    }, []);\n\n    return(\n            <main className=\"content\">\n                <section className=\"profile\">\n                    <div className=\"profile__info\">\n                        <div className=\"profile__avatar\">\n                            <img className=\"profile__avatar-image\" src={userAvatar} alt=\"Аватарка\"  />\n                            <div className=\"profile__overlay\"\n                                 onClick={onEditAvatar}>\n                                <button className=\"profile__edit-avatar\"></button>\n                            </div>\n                        </div>\n                        <div className=\"profile__text\">\n                            <div className=\"profile__block\">\n                                <h1 className=\"profile__info-name\">{userName}</h1>\n                                <button className=\"profile__edit-button\"\n                                onClick={onEditProfile}>\n                                </button>\n                            </div>\n                            <p className=\"profile__info-text\">{userDescription}</p>\n                        </div>\n                    </div>\n                    <button className=\"profile__add-button\"\n                    onClick={onAddPlace}>\n                    </button>\n                </section>\n                <section className=\"elements\">\n                    {\n                        cards.map((card) => <Card key={card._id} card={card} onCardClick={handleCardClick}/>)\n                    }\n                </section>\n            </main>\n    )\n\n}\n\nexport default Main;\n\n\n\n"]},"metadata":{},"sourceType":"module"}