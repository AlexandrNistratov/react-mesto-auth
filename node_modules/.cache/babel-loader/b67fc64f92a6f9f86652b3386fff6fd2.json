{"ast":null,"code":"import _classCallCheck from\"/Users/aleksandrnistratov/Desktop/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/aleksandrnistratov/Desktop/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this._url=config.url;this._headers=config.headers;}_createClass(Api,[{key:\"getUserInfo\",value:function getUserInfo(){return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me',{method:'GET',headers:this._headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}});}},{key:\"addUserInfo\",value:function addUserInfo(data){return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me',{method:'PATCH',headers:this._headers,body:JSON.stringify({name:data.name,about:data.about})}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}});}},{key:\"getAllCards\",value:function getAllCards(){return fetch(this._url,{method:'GET',headers:this._headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}});}},{key:\"addNewCards\",value:function addNewCards(data){return fetch(this._url,{method:'POST',headers:this._headers,body:JSON.stringify({name:data.name,link:data.link})}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}});}},{key:\"deleteCards\",value:function deleteCards(id){return fetch(\"https://mesto.nomoreparties.co/v1/cohort-18/cards/\".concat(id),{method:'DELETE',headers:this._headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}});}},{key:\"likeCard\",value:function likeCard(likeId){return fetch(\"https://mesto.nomoreparties.co/v1/cohort-18/cards/likes/\".concat(likeId),{method:'PUT',headers:this._headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}});}},{key:\"dislikeCard\",value:function dislikeCard(likeId){return fetch(\"https://mesto.nomoreparties.co/v1/cohort-18/cards/likes/\".concat(likeId),{method:'DELETE',headers:this._headers}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}});}},{key:\"addUserAvatar\",value:function addUserAvatar(data){return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me/avatar ',{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.avatar})}).then(function(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}});}}]);return Api;}();export var api=new Api({url:'https://mesto.nomoreparties.co/v1/cohort-18/cards',headers:{authorization:'e2315ec0-9d36-47b6-91be-ca15417afdd8','content-type':'application/json'}});","map":{"version":3,"sources":["/Users/aleksandrnistratov/Desktop/mesto-react/src/utils/Api.js"],"names":["Api","config","_url","url","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","status","data","body","JSON","stringify","name","about","link","id","likeId","avatar","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  getUserInfo () {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me', {\n      method: 'GET',\n      headers: this._headers\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  addUserInfo (data) {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  getAllCards() {\n    return fetch(this._url,{\n      method: 'GET',\n      headers: this._headers\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  addNewCards(data) {\n    return fetch(this._url,{\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  deleteCards(id) {\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-18/cards/${id}`,{\n      method: 'DELETE',\n      headers: this._headers,\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        }else {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n    })\n  }\n\n  likeCard(likeId) {\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-18/cards/likes/${likeId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then((res) => {\n      if(res.ok) {\n        return res.json();\n      }else  {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  dislikeCard(likeId) {\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-18/cards/likes/${likeId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then((res) => {\n      if(res.ok) {\n        return res.json();\n      }else  {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n\n  addUserAvatar (data) {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-18/users/me/avatar ', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }else {\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }\n    })\n  }\n}\n\nexport  const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-18/cards',\n  headers: {\n    authorization: 'e2315ec0-9d36-47b6-91be-ca15417afdd8',\n    'content-type': 'application/json'\n  }\n});\n"]},"metadata":{},"sourceType":"module"}